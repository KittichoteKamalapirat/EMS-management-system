{"filter":false,"title":"test.js","tooltip":"/test.js","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":187,"column":7},"action":"insert","lines":["<!DOCTYPE html>","<html>","  <head>","    <title>Simple Map</title>","    <meta name=\"viewport\" content=\"initial-scale=1.0\">","    <meta charset=\"utf-8\">","    <link rel=\"stylesheet\" href=\"/css/index.css\" type=\"text/css\" />","  </head>","  <body>","    ","    <div id=\"map\"></div>","    ","    ","    <h1><a id=\"open-button\" href=\"#!\">open box</a></h1>","    ","    <div class=\"bg-modal\">","      <div class=\"box\">","        <div class=\"close\">+</div>","        <h1>Hello</h1>","        </div>","    </div>","","","    ","    ","    ","    <script>","    ","    var map ;","    ","    function init() {","    ","    var fireIcon = {","      url: '/images/burn.svg',","      // This marker is 20 pixels wide by 32 pixels high.","      scaledSize: new google.maps.Size(30, 30), // scaled size","      // The origin for this image is (0, 0).","      origin: new google.maps.Point(0, 0),","      // The anchor for this image is the base of the flagpole at (0, 32).","      anchor: new google.maps.Point(0, 30)","    };","    ","        var responderIcon = {","      url: '/images/responder.svg',","      // This marker is 20 pixels wide by 32 pixels high.","      scaledSize: new google.maps.Size(30, 30), // scaled size","      // The origin for this image is (0, 0).","      origin: new google.maps.Point(0, 0),","      // The anchor for this image is the base of the flagpole at (0, 32).","      anchor: new google.maps.Point(0, 30)","    };","    ","        var victimIcon = {","      url: '/images/victim.svg',","      // This marker is 20 pixels wide by 32 pixels high.","      scaledSize: new google.maps.Size(30, 30), // scaled size","      // The origin for this image is (0, 0).","      origin: new google.maps.Point(0, 0),","      // The anchor for this image is the base of the flagpole at (0, 32).","      anchor: new google.maps.Point(0, 30)","    };","    ","    function Disaster (name, type, location, info) { // may be changed later to have icon","  ","      this.name = name,","      this.type = type,","      this.loc = location,","      this.info = info,","      this.icon = fireIcon","    }","    ","    function Responder (name, location, info) {","      this.name = name,","      this.type = 'Responder',","      this.loc = location,","      this.info = info,","      this.icon = responderIcon","    }","    ","    function Victim (name, location, info) {","      this.name = name,","      this.type = 'Victim',","      this.loc = location,","      this.info = info,","      this.icon = victimIcon","    }","    ","    ","      // Variables that we will get later","      ","      ","      // test data","      let fire = new Disaster('Jerry', 'Fire', {lat: 35.6742702, lng:139.7683794}, 'info');","      let earthquake = new Disaster('Alex', 'Earthquake', {lat:33, lng: 139}, 'info');","      let victim1 = new Victim('John', {lat:35, lng:140.5}, 'info');","      let victim2 = new Victim('Paul', {lat:35, lng:139.55}, 'info');","      let responder1 = new Responder('Geroge', {lat:36, lng:137.5}, 'info');","      let responder2 = new Responder('Laura', {lat:36, lng:137.55}, 'info');","      ","      ","      let DISASTERS = [fire, earthquake];","      let VICTIMS = [victim1, victim2];","      let RESPONDERS = [responder1, responder2];","      ","      ","                    ","      let ZOOM = 15; // pre-defined google zoom","  console.log('hi0')","        ","        // initialize map","        map = new google.maps.Map(document.getElementById('map'), {","          zoom: ZOOM,","        });","    ","         // Prompt user for their location","        if (navigator.geolocation) {","          navigator.geolocation.getCurrentPosition(function(position) {","            var USER_LOCATION = {","              lat: position.coords.latitude,","              lng: position.coords.longitude","            };","            map.setCenter(USER_LOCATION);","          }, function() {","            handleLocationError(true, map.getCenter());","          });","        } else {","          // Browser doesn't support Geolocation","          handleLocationError(false, map.getCenter());","        }","    ","        ","console.log('hi5')","        // Create Disaster Markers","        for (let disaster of DISASTERS) {","          addMarker(disaster.loc, map, disaster.type, disaster.name, disaster.icon);","        }","        ","        // Create Responder Markers","        for(let responder of RESPONDERS) {","          addMarker(responder.loc, map, responder.type, responder.name, responder.icon);","        }","        ","        //create Victim Markers","        for(let victim of VICTIMS) {","          addMarker(victim.loc, map, victim.type, victim.name, victim.icon);","        }","      }","      ","      console.log('hi6')","      function addMarker(loc, map, type, name, icon) {","        console.log('hi7')","        let marker = new google.maps.Marker({","          pos: loc,","          map: map,","          id: type + '_' + name,","          title: type + ' ' + name,","          icon: icon","        });","        console.log(marker)","        ","        marker.addListener('click', function() {","          console.log('hi9')","          /*let info = '<div id=\"content\">'+","            '<div id=\"'+ marker.id + '\">'+","            '</div>'+","            '<h1 id=\"firstHeading\" class=\"firstHeading\">'+ marker.title +'</h1>'+","            '<div id=\"bodyContent\">'+","            '<p>info</p>'+","            '<p><a href=\"https://www.google.com/maps/@' + marker.pos['lat'] +', ' + marker.pos['lng'] + '\">' +","            '</p>'+","            '</div>'+","            '</div>';*/","          console.log('hi10')","          let infowindow = new google.maps.InfoWindow({","            content: 'hello'","          });","          ","          infowindow.open(map, marker);","        });","","      } ","    </script>","    <script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBlnIGGKWcKnfS7r4nVr0CH4itQeet8MWE&callback=init\"","    async defer></script>","    <script src=\"/javascript/index.js\"","    async defer></script>","  </body>","</html>"],"id":1}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":187,"column":7},"end":{"row":187,"column":7},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1561829149358,"hash":"d5c06a1b322541b664ac51e969ca75a4b4409771"}